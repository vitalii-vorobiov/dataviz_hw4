(this.webpackJsonpdataviz_hw4_react=this.webpackJsonpdataviz_hw4_react||[]).push([[0],{34:function(t,n,e){},43:function(t,n,e){"use strict";e.r(n);var i=e(4),r=e(0),a=e.n(r),o=e(10),c=e.n(o),u=e(13),s=(e(34),e(61)),l=e(58),f=e(60),d=e(21),h=e.n(d),m=Object(l.a)((function(t){return{religionButton:{margin:t.spacing(1)}}}));var p=function(){var t=m(),n=a.a.useState([]),e=Object(u.a)(n,2),o=e[0],c=e[1],l=a.a.useState([]),d=Object(u.a)(l,2),p=d[0],j=d[1],b=a.a.useState([]),y=Object(u.a)(b,2),C=y[0],O=y[1],g=a.a.useState("Christians"),w=Object(u.a)(g,2),v=w[0],x=w[1],k=a.a.useState("Ukraine"),Y=Object(u.a)(k,2),B=Y[0],_=Y[1];Object(r.useEffect)((function(){var t,n=!0;return(t="Religious_Composition_by_Country_2010-2050.json",fetch(t,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(t){return t.json()})).then((function(t){return t.map((function(t){return{Year:t.Year.trim(),Country:t.Country.trim(),Christians:R(t.Christians.trim()),Muslims:R(t.Muslims.trim()),Unaffiliated:R(t.Unaffiliated.trim()),Hindus:R(t.Hindus.trim()),Buddhists:R(t.Buddhists.trim()),Jews:R(t.Jews.trim()),"Folk Religions":R(t["Folk Religions"].trim()),"Other Religions":R(t["Other Religions"].trim())}}))}))).then((function(t){n&&(c(t),j(t.filter((function(t){return"2010"===t.Year&&"All Countries"!==t.Country}))),O(t.filter((function(t){return t.Country===B})).map((function(t){return{Year:t.Year,Value:t[v]}}))))})),function(){return n=!1}}),[]);var R=function(t){return t.replaceAll(",","").includes("<")?0:parseInt(t.trim().replaceAll(",",""))},A=function(t,n){return t.map((function(t){return t[n]}))};return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)("div",{className:"Buttons",children:["Christians","Muslims","Unaffiliated","Hindus","Buddhists","Jews","Folk Religions","Other Religions"].map((function(n,e){return Object(i.jsx)(s.a,{className:t.religionButton,variant:"contained",onClick:function(){x(n),O(o.filter((function(t){return t.Country===B})).map((function(t){return{Year:t.Year,Value:t[n]}})))},children:n},e)}))}),Object(i.jsxs)("div",{className:"Map",children:[Object(i.jsx)(h.a,{data:[{type:"choropleth",locationmode:"country names",locations:A(p,"Country"),colorbar:{title:"Amount of ".concat(v),thickness:30},autocolorscale:!0,z:A(p,v),text:A(p,"Country")}],layout:{title:"Number of ".concat(v," in 2010"),width:.6*window.innerWidth,height:800,geo:{projection:{type:"natural earth"}}},onClick:function(t){_(t.points[0].location),O(o.filter((function(n){return n.Country===t.points[0].location})).map((function(t){return{Year:t.Year,Value:t[v]}})))}}),Object(i.jsx)(h.a,{data:[{x:C.map((function(t){return t.Year})),y:C.map((function(t){return t.Value})),type:"scatter"}],layout:{title:"".concat(v," in ").concat(B," from 2010 to 2050"),width:.3*window.innerWidth}})]}),Object(i.jsx)(f.a,{variant:"body1",gutterBottom:!0,children:"Click on Country of interest to get detailed info"})]})};c.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.ecf70db6.chunk.js.map